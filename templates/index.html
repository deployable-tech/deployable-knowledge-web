<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>DKClient Demo — bare metal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==">

  <link rel="stylesheet" href="/static/ui/css/style.css" />
</head>
<body>
  <header>
    <div class="menu">
      <button id="windowMenuBtn">Windows</button>
      <ul id="windowMenu" class="menu-list"></ul>
    </div>
  </header>

  <main id="desktop">
      <section id="win-services" data-win="services" data-title="LLM Service & Model">
        <h2>LLM Service & Model</h2>
        <div class="row">
          <button id="loadServices">Load Services</button>
          <button id="refreshSelection">Get Selection</button>
          <button id="manageServices">Manage Services</button>
        </div>
        <div class="row">
          <label style="min-width:80px;">Service</label>
          <select id="svc"></select>
        </div>
        <div class="row">
          <label style="min-width:80px;">Model</label>
          <select id="model"></select>
        </div>
        <div class="row">
          <button id="setSelection">Update Selection</button>
        </div>
        <div id="serviceLst"></div>
        <div id="serviceCards"></div>
        <div id="modelCards"></div>
      </section>

      <section id="win-service-admin" data-win="service-admin" data-title="LLM Service Admin">
        <h2>LLM Service Admin</h2>
        <div class="row">
          <input id="newSvcProvider" placeholder="provider" />
          <input id="newSvcBaseUrl" placeholder="base URL" />
          <input id="newSvcAuth" placeholder="auth ref" />
          <button id="createSvc">Create Service</button>
        </div>
        <div class="row">
          <input id="delSvcId" placeholder="service id" />
          <button id="deleteSvc">Delete Service</button>
        </div>
        <div class="row">
          <input id="modelSvcId" placeholder="service id" />
          <input id="modelName" placeholder="model name" />
          <input id="modelModality" placeholder="modality" />
          <button id="createModel">Add Model</button>
        </div>
        <div class="row">
          <input id="delModelId" placeholder="model id" />
          <button id="deleteModel">Delete Model</button>
        </div>
        <pre id="svcAdminOut" class="mono" style="max-height:200px;"></pre>
      </section>

      <section id="win-search" data-win="search" data-title="Search">
        <h2>Search</h2>
        <div class="row">
          <input id="q" placeholder="query…" />
          <label>Top K</label>
          <input id="topK" type="number" value="5" style="max-width:80px;" />
          <button id="doSearch">Run</button>
        </div>
        <div id="searchOut" class="list"></div>
      </section>

      <section id="win-docs" data-win="documents" data-title="Documents">
        <h2>Documents</h2>
        <div class="row">
          <input id="files" type="file" multiple />
          <button id="upload">Upload</button>
          <button id="ingestAll">Ingest All</button>
        </div>
        <div class="row">
          <input id="removeSource" placeholder="source name to remove…" />
          <button id="remove">Remove Source</button>
          <button id="clearDb">Clear DB</button>
        </div>
        <pre id="ingOut" class="mono" style="max-height:160px;"></pre>
        <div class="row">
          <button id="listDocs">List Documents</button>
          <span id="docCount" class="subtle"></span>
        </div>
        <div id="docs" class="list"></div>
        <div class="spacer"></div>
        <div class="row">
          <label style="min-width:80px;">Segments of</label>
          <input id="segSource" placeholder="source.txt (auto-fills on click)" />
          <button id="listSegs">List Segments</button>
        </div>
        <div id="segs" class="list"></div>
        <pre id="segView" class="mono" style="max-height:160px;"></pre>
      </section>

      <section id="win-chat" data-win="chat" data-title="Chat">
        <h2>Chat</h2>
        <div id="chatOut" class="chat-history"></div>
        <div class="chat-input">
          <textarea id="msg" placeholder="Ask your system something grounded…"></textarea>
          <div class="row">
            <button id="send">Send</button>
            <span id="meta" class="subtle mono"></span>
          </div>
        </div>
      </section>

      <section id="win-history" data-win="history" data-title="Chat History">
        <h2>Chat History</h2>
        <div class="row">
          <button id="newChat">New Chat</button>
        </div>
        <div id="sessionList" class="list"></div>
      </section>

      <section id="win-persona" data-win="persona" data-title="Persona">
        <h2>Persona</h2>
        <div class="row">
          <button id="savePersona">Save</button>
          <button id="cancelPersona">Cancel</button>
        </div>
        <textarea id="persona" placeholder="optional persona"></textarea>
      </section>


      <section id="win-templates" data-win="templates" data-title="Templates & Settings">
        <h2>Templates & Settings</h2>
        <div class="row">
          <input id="base" size="42" />
          <button id="init">Init SDK</button>
          <button id="prime">Prime User Session</button>
          <button id="ensure">Ensure Session</button>
          <span id="sid" class="mono subtle"></span>
        </div>
        <div class="row">
          <button id="loadTemplates">Load Templates</button>
          <select id="tplSel"></select>
        </div>
        <div class="row">
          <label>Template ID</label>
          <input id="templateId" value="rag_chat" />
        </div>
        <div class="row">
          <input id="userId" value="local-user" />
          <button id="getSettings">Get Settings</button>
        </div>
        <div id="tplCard"></div>
      </section>

  </main>

  <footer>
    If your API runs on a different port, change the base URL. Cookie priming uses <code>/begin</code>.
  </footer>

  <div id="mount"></div>

  <script type="module" src="/static/app/js/main.js"></script>

</body>
</html>
